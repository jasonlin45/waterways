<script>
    import { tweened } from "svelte/motion";
	import { sineInOut } from 'svelte/easing';

    export let amt;
    export let goal;

    const pct = tweened(0, {
        duration: 1000,
        easing: sineInOut
    });

    $: pct.set(amt / goal);

    $: ht = Math.floor($pct * 1600);
    $: wave_y = 500 - Math.floor(530 * $pct)

</script>
<h1 class="text-6xl font-medium {$pct >= 1.0 ? "text-green-500": "text-blue-500"} transition-colors duration-800 ease-in-out">
  {amt}oz
</h1>

<p class="opacity-60">
  So far today &middot {Math.floor($pct * 100)}% of {goal}oz goal
</p>

<svg class="h-[75vh] w-full m-auto" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
	 viewBox="0 0 1200 1700">
<defs>
  <linearGradient id="gradient" x1="0" x2="0" y1="0" y2="1">
    <stop offset="25%" stop-color="rgb(14 165 233)"/>
    <stop offset="75%" stop-color="rgb(6 182 212)"/>
  </linearGradient>
    <clipPath id="clip">
            <path id="llama" d="M786.959,1248.732c-7.175-19.384-23.605-38.93-35.61-55.597c-5.361-7.443-12.293-21.213-19.984-26.211
                c-18.923-12.297-109.018,51.996-127.47,79.49c-19.56,29.144-19.633,27.673-25.129,57.953
                c-32.349,178.214-17.998,142.418-49.825,236.431c-34.691,102.474-30.447,86.539-70.915,86.539
                c-10.258-0.017-21.008,2.93-31.278-0.691c-8.561-3.02-11.002-1.329-11.463-10.035c-0.605-11.427-3.311-22.565-0.72-34.374
                c0.844-3.846-4.529-9.361-3.897-15.266c1.732-16.205-3.707-30.783,1.419-46.947c1.81-33.225,7.008-66.317,6.242-99.659
                c-1.868-81.324-14.572-115.657-8.117-153.825c0.618-3.655,0.994-7.167-0.395-10.591c-0.777-1.916,0.966-5.232-2.482-5.638
                c-2.923-0.344-5.78,0.845-7.387,3.339c-33.485,51.973-13.008,22.326-33.9,59.875c-3.923,7.052-6.419,18.473-12.172,24.226
                c-7.24,9.974-9.686,22.442-18.097,31.87c-22.96,25.746-85.329,144.057-85.879,145.058c-11.978,21.814-26.449,42.11-39.235,63.436
                c-11.219,18.712-12.737,47.883-45.225,37.18c-8.347-2.75-41.15,7.171-48.01-17.606c-1.206-4.358,1.538-10.242,3.548-14.977
                c6.314-14.875,10.773-30.436,16.514-45.513c3.147-8.264,4.58-17.849,7.093-26.753c32.526-115.211,127.387-371.081,127.387-371.081
                c0.691-7.58,3.052-14.859,1.917-22.79c-1.112-7.772-9.391-13.827-13.984-19.867c-7.189-9.453-14.229-19.024-21.342-28.535
                c-53.214-79.821-61.457-61.325-83.186-164.177c-1.523-7.208-6.244-13.103-6.984-20.347c-2.589-25.364-7.191-25.463-11.726-69.085
                c-1.082-10.405-6.417-20.493-6.195-31.295c0.232-11.26-4.733-21.46-5.394-32.474c-5.071-84.411-24.239-65.555,15.782-219.146
                c3.767-14.459,11.34-27.576,15.704-41.831c11.783-38.538,21.395-79.325,40.239-115.127c5.437-10.33-3.349-21.786-15.028-22.689
                c-19.453-1.504-56.344,12.868-67.365-4.381c-2.208-3.456-5.253,0.019-7.731-1.44c-9.024-5.312-18.732-1.375-28.121-1.92
                c-6.012-0.349-20.889,8.738-33.472-11.029c-7.151-11.232,4.027-7.858,2.174-12.669c-0.483-1.255-1.997-1.346-2.526-0.699
                c-4.381,5.35-6.299-0.686-8.341-2.228c-18.498-13.974-6.362-25.801,1.91-52.314c2.876-9.218,11.194-11.757,17.562-17.061
                c9.589-7.987,20.621-12.728,31.533-17.812c29.055-13.537,31.873-2.564,49.114-16.578c6.541-5.317,13.49-6.963,10.155-14.255
                c-0.844-1.845-1.756-3.939-1.654-5.868c0.143-2.713-2.146-6.785,0.113-7.754c8.951-3.842,10.836,2.511,16.936,3.828
                c4.913,1.061,8.831-2.876,6.753-7.023c-7.78-15.528,6.171-8.365,9.492-12.817c3.355,3.913,6.534-0.266,9.762-0.431
                c5.018-0.257,10.915-8.25,14.354,2.239c0.046,0.139,2.667-0.034,3.39-0.757c6.28-6.275-20.752-40.244-19.101-62.541
                c0.324-4.372-2.932-9.12-4.754-13.461c-5.017-11.953-0.662-24.386-5.741-26.729c-0.474-0.219-0.965-1.648-0.716-2.003
                c5.037-7.191,2.35-17.573,9.2-23.731c8.159-7.336,18.599-5.044,25.315,0.142c8.253,6.374,18.534,9.372,25.738,17.051
                c9.783,10.427,20.399,20.127,24.944,34.459c7.076,22.31,8.15,14.911,19.146,64.659c2.063,9.334,3.345,19.471,8.589,28.101
                c3.539,5.825,11.561,5.704,15.413-0.118c6.607-9.987,14.64-18.93,20.375-29.611c6.545-12.188,13.284-24.412,22.743-34.69
                c13.244-14.391,12.471-16.959,16.899-15.798c4.391,1.151,5.475,43.889,6.869,55.772c1.055,8.991-7.203,13.487-8.473,26.003
                c-0.322,3.171-1.658,5.796-4.193,7.845c-1.172,0.947-3.073,2.299-2.973,3.299c0.899,8.937-16.848,16.407-5.864,32.696
                c19.552,28.994,23.749,18.621,40.49,112.563c12.078,67.775,16.679,84.139-5.022,274.913c-1.977,17.378,4.401,31.964,8.258,31.542
                c6.98-0.763,14.488,2.776,20.919-1.759c9.284-6.547,86.42-9.9,107.536-6.397c32.875,5.455,75.171-8.897,98.623-2.85
                c7.336,1.891,14.377,0.78,21.485,2.012c43.533,7.548,70.433,8.543,102.541,6.045c72.39-5.632,60.549,1.808,86.865-7.825
                c2.891-1.058,29.266-2.722,39.048-0.425c11.662,2.738,23.796,0.295,35.043,4.805c1.844,0.74,4.041,0.822,6.076,0.827
                c33.387,0.076,56.24,18.773,81.264,15.353c24.306-3.322,18.858-7.519,54.648-6.931c20.457,0.336,38.745,8.85,57.215,16.38
                c5.754,2.346,8.26,8.832,14.306,11.414c8.132,3.474,11.247,12.321,16.923,18.196c13.313,13.782,11.784,30.138,11.865,46.524
                c0.051,10.392-8.955,20.962-19.169,22.707c-4.552,0.778-3.232,3.849-3.379,6.401c-3.668,63.644-1.206,24.759-9.761,73.278
                c-0.87,4.935-3.904,10.451-6.417,14.82c-19.065,33.146-47.624,147.387-54.828,179.436
                c-11.144,49.578-33.472,111.341-21.591,162.361c7.718,33.146,24.584,77.379,48.768,101.143
                c15.177,14.913,20.702,49.682,13.092,67.434c-7.715,17.996-20.839,28.919-34.49,39.659c-6.388,5.026-12.16,11.383-19.68,15.707
                c-4.011,2.306-9.615,8.422-11.305,15.675c-5.461,23.436-25.808,44.112-39.411,63.286c-8.943,12.605-13.709,25.993-19.081,40.212
                c-3.551,9.4-11.403,16.311-13.224,26.791c-1.786,10.269-18.916,27.065-25.826,34.521c-17.657,19.053-26.342,32.229-46.837,26.282
                c-16.569-4.809-37.736,4.013-40.402-28.46c-1.186-14.46,8.442-22.434,14.689-33.909c5.265-9.67,6.51-22.157,10.398-32.9
                c11.12-30.723,18.59-64.092,31.832-93.71c7.919-17.713,18.454-34.326,23.761-53.132c14.394-51.011-3.913-42.898-0.97-64.33
                c1.702-12.396-1.071-28.633-4.345-28.918c-2.489-0.217-4.446,1.593-5.385,3.758c-2.131,4.913-5.147,9.863-5.595,14.992
                c-1.44,16.467-15.911,36.585-23.055,51.301c-10.644,26.611-115.08,219.999-115.615,221.006
                c-6.996,13.16-21.979,41.298-37.785,40.937c-61.252-1.396-73.69,0.035-77.676-3.793c-15.172-14.607,15.043-64.147,20.833-76.361
                c7.769-16.385,13.016-33.908,21.249-50.242c16.598-32.93,36.471-64.14,51.909-97.666c0.237-0.515,35.773-83.065,35.773-83.065
                c4.972-10.909,5.302-23.624,13.584-33.217c3.291-3.813,3.029-10.318,0.598-13.149
                C792.077,1268.752,790.06,1257.118,786.959,1248.732z M577.878,1287.134c0.011,0.862,0.022,1.724,0.034,2.585
                c0.344-0.115,0.935-0.161,0.99-0.358c0.294-1.04-0.16-1.756-1.198-2.086c-0.168-0.884,0.258-2.054-1.055-2.366
                c-0.136-0.032-0.625,0.644-0.638,1.003C575.962,1287.278,576.801,1287.443,577.878,1287.134z M1142.328,740.215
                c-0.35-0.706-0.122-0.6-0.882-0.404c0.162,0.285,0.324,0.569,0.486,0.854C1142.064,740.515,1142.196,740.365,1142.328,740.215z
                 M1118.203,773.684l0.6-0.236l-0.588-0.258L1118.203,773.684z M205.8,1337.308c-0.9,1.532-0.886,0.908-0.051,2.394
                C206.646,1338.251,206.632,1338.875,205.8,1337.308z M740.713,1573.794l-0.276,0.417l0.444,0.054L740.713,1573.794z
                 M171.307,1595.721l0.516,0.31l0.048-0.519L171.307,1595.721z"/>
    </clipPath>
    <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
    
</defs>

<use xlink:href="#llama" class="stroke-[20px] stroke-blue-200"></use>


<rect class="clip w-full h-full fill-blue-100"></rect>

<g class="clip">
    <g transform="scale(15, 3)" class="parallax">
        <use xlink:href="#gentle-wave" x="0" y={wave_y-5} class="fill-sky-500 opacity-50" />
        <use xlink:href="#gentle-wave" x="0" y={wave_y} class="fill-sky-500" />
    </g>
</g>
<rect class="w-full clip" fill="url(#gradient)" height={ht} y={1700-ht}></rect>

</svg>

<style>
.clip {
    clip-path: url(#clip);
}

.parallax > use {
  animation: move-forever 25s cubic-bezier(.55,.5,.45,.5)     infinite;
}
.parallax > use:nth-child(1) {
  animation-delay: -2s;
  animation-duration: 5s;
}
.parallax > use:nth-child(2) {
  animation-delay: -5s;
  animation-duration: 8s;
}

@keyframes move-forever {
  0% {
   transform: translate3d(-90px,0,0);
  }
  100% { 
    transform: translate3d(85px,0,0);
  }
}
</style>